set -x EDITOR hx
set -x PAGER bat
set -x MANPAGER "sh -c 'col -bx | bat -l man -p'"

set -gx BREW_PREFIX (brew --prefix)
set -x HOMEBREW_NO_ENV_HINTS 1
set -x PATH "/usr/local/bin:$PATH"

# Make sure we use homebrew-installed tools first
set -x PATH "$BREW_PREFIX/bin:$PATH"

set -g fish_greeting ''
set -x XDG_CONFIG_HOME ~/.config
set -x FZF_DEFAULT_COMMAND 'fd --type f --strip-cwd-prefix --hidden --follow --exclude .git'
set -x FZF_DEFAULT_OPTS '
  --height 40%
  --layout=reverse
  --border=rounded
  --preview "bat --color=always --style=numbers --line-range=:500 {}"
  --preview-window=right:60%:wrap
  --bind="ctrl-u:preview-page-up,ctrl-d:preview-page-down"
'
set -x FZF_CTRL_R_OPTS '
  --preview "echo {} | bat --language=fish --style=plain --color=always"
  --preview-window=up:3
'

{{- if not .oppreferred }}
set -x SSH_AUTH_SOCK /Users/joel/Library/Containers/com.maxgoedjen.Secretive.SecretAgent/Data/socket.ssh
{{- end }}

{{- if .cloudInstall }}
set -x K9S_CONFIG_DIR ~/.config/k9s
{{- end }}

# ASDF configuration code
if test -z $ASDF_DATA_DIR
    set _asdf_shims "$HOME/.asdf/shims"
else
    set _asdf_shims "$ASDF_DATA_DIR/shims"
end

# Do not use fish_add_path (added in Fish 3.2) because it
# potentially changes the order of items in PATH
if not contains $_asdf_shims $PATH
    set -gx --prepend PATH $_asdf_shims
end
set --erase _asdf_shims