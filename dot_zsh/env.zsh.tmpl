# Editor and pager
export EDITOR=nvim
export PAGER="bat"
export MANPAGER="sh -c 'col -bx | bat -l man -p'"

export XDG_CONFIG_HOME="$HOME/.config"

# Homebrew environment hints
export HOMEBREW_NO_ENV_HINTS=1

{{- if not .oppreferred }}

# Set SSH Agent (Secretive)
export SSH_AUTH_SOCK=/Users/joel/Library/Containers/com.maxgoedjen.Secretive.SecretAgent/Data/socket.ssh
{{- end }}

# UI & color settings
export CLICOLOR=1
export LS_COLORS='di=1;34:ln=1;35:so=1;32:pi=1;33:ex=1;31:bd=34;46:cd=34;43:su=30;41:sg=30;46:tw=30;42:ow=30;43'

# Language-specific paths
export GOPATH="$HOME/.local/share/go"
export GOBIN="$HOME/.local/bin"

# PATH construction - building from scratch in exact priority order
# Start with empty PATH
typeset -U path PATH
path=()

# 1. Homebrew (Highest priority for system-wide CLI tools)
if [[ -n "$HOMEBREW_PREFIX" ]]; then
    [[ -d "$HOMEBREW_PREFIX/bin" ]]  && path+=("$HOMEBREW_PREFIX/bin")
    [[ -d "$HOMEBREW_PREFIX/sbin" ]] && path+=("$HOMEBREW_PREFIX/sbin")
fi

# 2. System Paths (Core OS functionality)
path+=(
    /usr/local/bin
    /usr/bin
    /bin
    /usr/sbin
    /sbin
)

# 3. Third-party & User Binaries (Lower priority)
[[ -d "$HOME/.lmstudio/bin" ]] && path+=("$HOME/.lmstudio/bin")
[[ -d "$HOME/.local/bin" ]]    && path+=("$HOME/.local/bin")
[[ -d "$HOME/.bun/bin" ]]      && path+=("$HOME/.bun/bin")

export PATH
